// Generated by CoffeeScript 1.6.3
var app, config, contributor, ejs, express, fs;

contributor = require('./contributor');

express = require('express');

ejs = require('ejs');

fs = require('fs');

config = {
  title: 'contributor.io',
  description: 'Fetch your contribution counts for various platforms (Github, NPM, Gem, CPAN, ...)'
};

app = express();

app.use(express.logger());

app.get('/', function(req, res) {
  return fs.readFile('templates/index.ejs', function(err, template) {
    if (err) {
      throw new Error(err);
    }
    return res.send(ejs.render(template.toString(), config));
  });
});

exports.app = app;
